<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimal Predictor</title>
</head>
<body style="background: #1f2937; color: white; font-family: sans-serif; padding: 20px;">
    <h1>Titanic Predictor - Minimal Test</h1>
    <p>This is a minimal test to check if the page loads.</p>
    
    <div style="background: #374151; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h2>Prediction Form</h2>
        <form>
            <div style="margin: 10px 0;">
                <label>Age: </label>
                <input type="number" id="age" value="28" style="padding: 5px; background: #4b5563; color: white; border: 1px solid #6b7280;">
            </div>
            <div style="margin: 10px 0;">
                <label>Sex: </label>
                <select id="sex" style="padding: 5px; background: #4b5563; color: white; border: 1px solid #6b7280;">
                    <option value="0">Female</option>
                    <option value="1">Male</option>
                </select>
            </div>
            <button type="button" onclick="testPredict()" style="background: #3b82f6; color: white; padding: 10px 20px; border: none; border-radius: 4px;">
                Test Predict
            </button>
        </form>
        
        <div id="result" style="margin-top: 20px; padding: 10px; background: #4b5563; border-radius: 4px;"></div>
    </div>
    
    <script src="backend-config.js"></script>
    <script>
        function testPredict() {
            document.getElementById('result').innerHTML = 'Button clicked! Testing prediction...';
            
            fetch(window.BACKEND_URL + '/predict', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    pclass: 3,
                    sex: parseInt(document.getElementById('sex').value),
                    age: parseInt(document.getElementById('age').value),
                    sibsp: 0,
                    parch: 0,
                    fare: 14.45,
                    embarked: 'S'
                })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('result').innerHTML = 
                    'Prediction successful!<br>' +
                    'Survival probability: ' + (data.probability * 100).toFixed(1) + '%<br>' +
                    'Survived: ' + (data.survived ? 'Yes' : 'No');
            })
            .catch(error => {
                document.getElementById('result').innerHTML = 'Error: ' + error.message;
            });
        }
    </script>
</body>
</html>
